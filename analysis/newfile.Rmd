---
title: "Brownian Motion and Gaussian Process"
author: "Yanyu Liang"
date: YYYY-MM-DD
output: html_document
---

<!-- The file analysis/chunks.R contains chunks that define default settings
shared across the workflowr files. -->
```{r read-chunk, include=FALSE, cache=FALSE}
knitr::read_chunk("chunks.R")
```

<!-- Update knitr chunk options -->
```{r knitr-opts-chunk, include=FALSE}
```

<!-- Insert the date the file was last updated -->
```{r last-updated, echo=FALSE, results='asis'}
```

<!-- Insert the code version (Git commit SHA1) if Git repository exists and R
 package git2r is installed -->
```{r code-version, echo=FALSE, results='asis'}
```

<!-- Add your analysis here -->

$$
\newcommand\var{\text{Var}}
\newcommand\E{\text{E}}
$$

# Constructing a continuous time 'random walk'

Random walk describes the process that 

> Consider a drunk person walk along a line and let's record the position of he/she as time goes. Suppose the person can either go right/left for $\Delta x$ meters after one second. To record, we can simply write down the position at time $t = 1, 2, ...$ seconds (or take picture every second). At time $t = k$ seconds, let the position to be $X_k$. Initially, the person is at position 0 ($X_0 = 0$).

\begin{align}
  Z_k := (X_k - X_{k - 1}) / \Delta x \sim Bernoulli(0.5) \label{eq:z}
  X_k | X_{k - 1} = x_k &= \begin{cases}
    x_k + \Delta x & \text{, with probability $\frac{1}{2}$} \\
    x_k - \Delta x & \text{, with probability $\frac{1}{2}$}
  \end{cases} \nonumber
\end{align}

In this process, 
\begin{align*}
  \E(X_k) &= \E(X_{k - 1}) = ... = 0 \\
  \var(X_k) &= (\Delta x)^2 + \var(X_{k - 1}） \\
  &= 2(\Delta x)^2 + \var(X_{k - 2}）\\
  &= ... = k (\Delta x)^2
\end{align*}
Suppose instead of recording position every second, we do this every $\Delta t$. Then $\Delta x$ changes accordingly. Ideally, if $\Delta t$ is infinitely small, it becomes a continous time Markov chain since we have the access to the position at any time point. If we keep the total recording time ($T$) the same, now we have $\var(X_{\frac{T}{\Delta t}}) = (\Delta x)^2 \frac{T}{\Delta t}$. 

If $\Delta t \rightarrow 0$ and $\Delta x \rightarrow 0$ independently, the variance goes to zero which is not an interesting process any more. To ensure the process to have finite non-zero variance at the end (*i.e.* go to somewhere but not impractically far away), we need $\Delta x = \sigma \sqrt{\Delta t}$. Note that this requirement implies that $\var(X_{\frac{T}{\Delta t}}) = \sigma^2 T$.

# Brownian motion - definition and simulation

In random walk, $Z_k$'s are iid (see \eqref{eq:z}) and $X_k = X_{k - 1} + Z_k = ... = X_{k - s} + \sum_{i = k - s + 1}^k Z_i = X_{k - s} + 2B_{k - s} - (k - s)$, where $B_{k-s} \sim Binom(s, \frac{1}{2})$. Brownian motion is what we have described above, namely the continous version of random walk, which should satisfy the same properties as random walk. 

# Casting Brownian motion as MVN 

# Gaussian process in brief

## Session information

<!-- Insert the session information into the document -->
```{r session-info}
```
